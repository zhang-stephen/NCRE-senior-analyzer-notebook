### 网络功能和分类

网络：计算机技术和通信技术的结合，实现远程通信、远程信息处理和资源共享

功能：
 - 数据通信
 - 资源共享
 - 负载均衡
 - 高可靠性

按地域分类：

![](https://s2.loli.net/2023/05/19/LsObQmZqXUIKxAu.png)

*互联网就是一张广域网*。

按拓扑结构分类：
 - 总线型：利用率低，干扰大，价格低
 - 星型：中央单元（交换机）负荷大
 - 环型：流动方向固定，效率低，难以扩充
 - 树型：总线型的扩充，分级结构
 - 分布式：任意节点连接，管理难，成本高

![](https://s2.loli.net/2023/05/19/ok2pxzvjcBFRZAM.png)

### OSI七层模型

- 应用层：各种应用服务，网关
- 表示层：数据转换，网关，
- 会话层：通信进程逻辑名字和物理名字的联系，网关，RPC、SQL、NFS
- 传输层：**端对端**可靠、透明的数据传输，网关， TCP、UDP
- 网络层：路由选择、拥塞控制、顺序控制、传送包、保证报文正确性，路由器，IP、ICMP、IGMP、ARP、RARP
- 数据链路层：不可靠的信道转换为可靠的信道，交换器、网桥
- 物理层：透明传输比特，中继器、集线器

#### 局域网/广域网协议

![](https://s2.loli.net/2023/05/19/wBAySYmuoaGxiV7.png)

以太网是局域网一个具体的实现。

### TCP/IP协议簇

协议三要素：语法、语义、时序。

![](https://s2.loli.net/2023/05/19/2xFbNcyhnOgUivC.png)

网络层：
IP：核心协议，在源地址和目的地址之间传输数据报文，无连接，不可靠
ICMP：因特网控制报文协议，在网络设备之间传送控制消息
ARP/RARP：地址解析协议
IGMP：网络组管理协议，支持组播

传输层：
TCP：可靠、面向连接、全双工（三次握手，四次挥手）
UDP：不可靠、无连接，适用于数据量大、速度快、不要求可靠性

应用层：

协议 | 基于 | 名称 | 作用
:---:| :---: | :--- | :---
FTP | TCP | 文件传输协议 | 控制文件双向传输
HTTP[S]| TCP | 超文本传输协议 | 传输超文本到本地
SMTP/POP3 | TCP | | （收/发）邮件服务
Telnet | TCP | 远程连接协议 | 远程登录服务
TFTP | UDP | 小文件传输协议 | 开销低的小文件传输
SNMP | UDP | 简单网络管理协议 |
DHCP | UDP | 动态主机配置协议 | 为主机动态分配IP地址
DNS | UDP | 域名解析协议 | 通过域名获取IP地址

![](https://s2.loli.net/2023/05/19/etECv1INri4kTUO.png)

#### IPv4

IPv4采取**点分十进制**的方式表示，一共有四个字节。
 - 网络号：由子网掩码（网络号、子网号为1，设备号为0）确定，
 - 设备号：除网络号以外的部分
 - 子网号：设备号中分配的，用于表示子网号的部分，可以全零或者全1

分类：（为什么减去2？主机号不能全0或者全1）
 - A类：网络号8bit，最多有$2^{24} -2$个主机，首位必须为零
 - B类：网络号16bit，最多有$2^{16} - 2$个主机，前两位必须是`10`
 - C类：网络号24bit，最多$2^8 - 2$个主机，前三位必须是`110`

![](https://s2.loli.net/2023/05/20/eQWRPEKaymNzVDw.png)

无分类编址：IP地址/网络号长度，不遵循ABC类规则

特殊IP地址：
 - 公有地址：全球唯一
 - 私有地址：非注册地址，组织机构内部使用，不能直接访问因特网

常见的私有地址：
Category | 起始IP | 终止IP | 网络号 | 网络数
:---: |:---: |:---: |:---: |:---:
A | `10.0.0.0` | `10.255.255.255` | `10` | 1
B | `172.16.0.0` | `172.31.255.255` | `172.16` ~ `172.31` | 16
C | `192.168.0.0` | `192.168.255.255` | `192.168.0` ~ `192.168.255` | 256

其他特殊地址：

网络号 | 主机号 | 可作为源地址？ | 可作为目的地址？| 含义
:---: |:---: |:---: |:---: |:---
0 | 0 | Y | N | 本网络内的本机地址
全1 | 全1 | N | Y | 本网络的广播地址
网络号 | 全1 | N | Y | 对网络号代表的网络上所有主机广播
127 | 非全0/非全1 | Y | Y | 回环地址
169.254 | 非全0/非全1 | Y | Y | Windows主机DHCP服务器故障分配

子网划分/网络聚合

#### IPv6

特点：
 - 长度128位，地址空间扩充$2^{96}$倍
 - 灵活的IP报文头部格式
 - 简化了报文头部格式，加快转发，吞吐量提高
 - 提高安全性：身份认证、隐私权
 - 更多的服务类型
 - 允许继续演变

IPv4到IPv6过渡技术：
 - 双协议栈
 - 隧道技术
 - 翻译技术

地址分类：单播、多播、任意播
