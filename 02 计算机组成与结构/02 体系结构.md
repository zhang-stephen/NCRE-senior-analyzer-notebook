### 体系结构分类

按处理机的数据：
 - Flynn分类法：指令流、数据流的数量，SISD、SIMD、MISD（不可能）、MIMD

指令：操作码、操作数
 - 取指：取PC（指令地址）送入地址总线，取出指令送入IR
 - 分析：指令译码器
 - 执行：取操作数

指令寻址方式：
 - 顺序寻址
 - 跳跃寻址

操作数寻址（指令的地址码）：
 - 立即寻址：操作数本身
 - 直接寻址：在主存中
 - 间接寻址：地址码指向的存储单元存储操作数地址
 - 寄存器寻址：寄存器编号
 - 基地址寻址：基址寄存器 + 地址码
 - 变址寻址：变址寄存器 + 地址码

### 指令系统

CISC/RISC（硬布线控制逻辑、通用寄存器）

![](https://s2.loli.net/2023/05/23/4bCRr9nFSZDyOx3.png)

#### 指令流水线

流水线周期：执行时间最长的段为流水线周期

流水线执行时间：一条指令总执行时间 + （指令数 - 1） * 流水线周期

流水线吞吐率：指令条数 / 流水线执行时间

加速比：不使用流水线的执行时间 / 使用流水线的执行时间

### 存储系统

两级存储：Cache-主存，主存-辅存

局部性：
 - 时间局部性：相邻的时间内会访问同一个数据项
 - 空间局部性：相邻的空间地址会被连续访问

地址映射（地址映像）：主存地址转换为cache地址，硬件自动完成
 - 直接映像 (块冲突概率最高)
 - 全相联映像（最低）
 - 组组相连映像

替换算法：使Cache获得尽可能高的命中率
 - 随机替换
 - FIFO
 - LRU（常用）：依据是局部性原理
 - 优化替换

设命中率为$p$，CPU读取cache的时间为$t_0$，读取内存的时间为$t_1$，那么此时平均访问时间为$pt_0 + (1 - p)t_1$

#### 主存编址

#### 磁盘调度

- 先来先服务FCFS
- 最短寻道时间SSTF：比较柱面号、扇区号，就近移动
- 扫描算法SCAN
- 单向扫描调度CSCAN

### I/O技术

内存与接口编址：
 - 独立编址：用于接口的指令太少、功能太弱
 - 统一编址：内存地址不连续

计算机与外设交互：
 - 查询
 - 中断：CPU响应在一条指令结束时
 - DMA：CPU响应在一个总线周期结束后

#### 总线结构

设备之间传输信息的公共数据通道，由所有设备共享

分类：
 - 内部总线：芯片级别
 - 系统总线：板级
    - 数据总线
    - 地址总线
    - 控制总线
 - 外部总线：设备一级，与外部设备的连接

### 可靠性

指标
 - 平均无故障时间：MTTF = 1 / 失效率
 - 平均故障修复时间：MTTR = 1 / 修复率
 - 平均故障间隔时间：MTTBF = MTTF + MTTR
 - 系统可用性 = MTTF / MTTBF

#### 串并联系统的可靠性

 - 串联
 - 并联
 - N模冗余
