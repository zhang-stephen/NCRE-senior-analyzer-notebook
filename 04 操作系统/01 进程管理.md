### 操作系统概述

作用：
 1. 资源管理，提高计算机系统效率
 2. 改善人机界面，提供友好的工作环境

特征：并发性、共享性、虚拟性、不确定性

功能：进程管理（处理机的时间）、设备管理、文件管理（辅存）、存储管理（主存）、作业管理

分类：批处理、分时、实时、网络、分布式、微型计算机




### 进程管理

进程：进程控制块PCB（唯一标识）、程序、数据

![](https://s2.loli.net/2023/05/23/fXmLzND4CP6GsnW.png)

#### 前趋图

反应任务之间的并行关系和顺序。

#### 进程资源图

![](https://s2.loli.net/2023/05/23/7tgoBIXfbNRxYaz.png)

#### 同步与互斥

临界资源：各进程间需要互斥访问的资源
临界区：对临界资源操作的程序段
互斥：同一时间只可以一个任务单独访问
同步：多个任务并发执行

信号量S（大于零表示资源数量，小于零表示等待的进程数量）
 - 互斥：使用之后其他进程无法访问，初始值为1
 - 同步：对共享资源的访问控制，初始值一般为共享资源的数量

P操作：申请资源，S--，若S非负，则执行P操作的进程继续执行，否则阻塞
V操作：释放资源，S++，若S大于0，执行V操作的进程继续执行，否则从阻塞队列唤醒一个进程插入就绪队列，执行V操作的进程继续

经典问题：生产者与消费者
 - 信号量：S0（互斥，仓库使用权），S1（同步，空闲存储），S2（同步，仓库商品个数）

前趋图中的每一条连线对应一个信号量。

#### 进程调度

更高优先级进程到来时分配CPU的方法：可剥夺式、不可剥夺式

- 高级调度
- 中级调度
- 低级调度

算法：
 - 先来先服务FCFS
 - 时间片轮转
 - 优先级调度
 - 多级反馈制度

#### 死锁

条件：
 - 资源互斥
 - 每个进程占有资源并等待其他资源
 - 系统不能剥夺进程资源
 - 进程资源图是一个环路

资源计算：$n$进程，$R$为进程所需资源，发生死锁的最大资源数为$n(R-1)$，不发生思索的最小资源数为$n(R-1) + 1$

银行家算法：

#### 线程

线程：调度和分配的基本单位，基本不拥有资源，与同属同一进程的其他线程共享进程资源
进程：独立分配资源的单位
